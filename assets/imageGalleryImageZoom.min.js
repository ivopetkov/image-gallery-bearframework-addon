var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{},ivoPetkov.bearFrameworkAddons.imageGalleryImageZoom=ivoPetkov.bearFrameworkAddons.imageGalleryImageZoom||function(){var e=ivoPetkov.bearFrameworkAddons.touchEvents;return{addZoom:function(n,t,o,a){var r=e.addZoom(n,t),v=e.addDoubleTap(n),s=e.addMove(n,t);n.style.setProperty("transform","scale(var(--touch-events-zoom-scale)) translate(var(--touch-events-move-x),var(--touch-events-move-y))");var d=null,i=null,c=[0,0],u=function(e,t,o){var a=null!==d?d:1;if(!o||1!==i){var r=(o?c[0]:0)+e[0]/a/i,v=(o?c[1]:0)+e[1]/a/i;t||(c=[r,v]),n.style.setProperty("--touch-events-move-x",r+"px"),n.style.setProperty("--touch-events-move-y",v+"px")}};u([0,0],!1,!1);var m=function(e,t,o){var a=o?i*e:e;a<1&&(a=1),t?d=e:(d=null,i=a),n.style.setProperty("--touch-events-zoom-scale",a),t||1!==i||u([0,0],!1,!1)};m(1,!1,!1);var l=function(){n.style.setProperty("transition","transform 0.2s ease-out"),setTimeout((function(){n.style.removeProperty("transition")}),210)};r.addEventListener("start",(function(e){o()})),r.addEventListener("change",(function(e){m(e.change,!0,!0)})),r.addEventListener("end",(function(e){m(e.change,!1,!0),a()})),v.addEventListener("done",(function(e){l(),m(1,!1,!1),u([0,0],!1,!1),o(),a()})),s.addEventListener("start",(function(e){})),s.addEventListener("change",(function(e){u([e.changeX,e.changeY],!0,!0)})),s.addEventListener("end",(function(e){u([e.changeX,e.changeY],!1,!0)}));var f={zoomIn:function(e){l(),m(void 0!==e?e:2,!1,!1),o(),a()},zoomOut:function(){l(),m(1,!1,!1),u([0,0],!1,!1),o(),a()},hasZoom:function(){return null!==d||i>1}};return f},addSwipe:function(n,t,o){var a=e.addSwipe(n);a.addEventListener("change",t),a.addEventListener("end",o)}}}();
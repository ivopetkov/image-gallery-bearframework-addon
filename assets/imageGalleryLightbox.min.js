/*
 * Image gallery addon for Bear Framework
 * https://github.com/ivopetkov/image-gallery-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.imageGalleryLightbox=ivoPetkov.bearFrameworkAddons.imageGalleryLightbox||function(){var m=function(b,a){var d=window.innerWidth-30,c=window.innerHeight-30;a>c&&(b*=c/a);b>d&&(b=d);return b},g={},k=!1,p=function(){var b=document.getElementById("imggalleryswp0");if(b){b=b.firstChild.childNodes;for(var a=0;a<b.length;a++){var d=b[a].firstChild;d.style.width=m(d.getAttribute("data-max-width"),d.getAttribute("data-max-height"))+"px"}}};return{open:function(b,a,d){k||(k=!0,
window.addEventListener("resize",p));var c=function(a){try{var l=JSON.parse(a)}catch(q){l={}}"undefined"!==typeof l.status&&"1"===l.status&&clientShortcuts.get("-ivopetkov-image-gallery-swiper").then(function(){var a=l.result,c=a.length;var e='<div id="imggalleryswp0" class="swiper-container" style="width:100vw;height:100vh;"><div class="swiper-wrapper">';for(var f=0;f<c;f++){var h=a[f];e+='<div class="swiper-slide" style="padding:15px;box-sizing:border-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;align-items:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center;">';
e+='<div data-max-width="'+h[0]+'" data-max-height="'+h[1]+'" style="width:'+m(h[0],h[1])+'px;"></div>';e+="</div>"}b.open(e+'</div><div style="z-index:10010001;position:fixed;top:0;left:0;"><span style="right:0;display:none;width:42px;height:42px;position:fixed;top:calc((100% - 42px)/2);cursor:pointer;color:rgba(255,255,255,0.8);font-size:40px;line-height:40px;padding-left:9px;box-sizing:border-box;">&#10151;</span><span style="left:0;display:none;width:42px;height:42px;position:fixed;top:calc((100% - 42px)/2);cursor:pointer;color:rgba(255,255,255,0.8);font-size:40px;line-height:40px;padding-left:9px;box-sizing:border-box;transform:rotate(180deg);">&#10151;</span></div></div>',
{spacing:"0px"});e=document.getElementById("imggalleryswp0");for(f=0;f<c;f++)h=a[f],html5DOMDocument.insert(h[2],[e.firstChild.childNodes[f].firstChild]);a=new Swiper("#imggalleryswp0",{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});a.slideTo(d,0);var g=e.childNodes[1].childNodes[0];g.addEventListener("click",a.slideNext);var k=e.childNodes[1].childNodes[1];k.addEventListener("click",a.slidePrev);var n=function(a){2>c||(g.style.display=a+1<c?"block":"none",k.style.display=
0===a?"none":"block")};a.on("slideChangeStart",function(a){n(a.activeIndex)});n(d)})};"undefined"!==typeof g[a]?c(g[a]):clientShortcuts.get("serverRequests").then(function(b){b.send("-ivopetkov-image-gallery-get-images",{serverData:a}).then(function(b){g[a]=b;c(b)})})}}}();
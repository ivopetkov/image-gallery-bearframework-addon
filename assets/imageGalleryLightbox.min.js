var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{},ivoPetkov.bearFrameworkAddons.imageGalleryLightbox=ivoPetkov.bearFrameworkAddons.imageGalleryLightbox||function(){var e=function(e,t){var i=window.innerWidth-10,n=window.innerHeight-10;return t>n&&(e*=n/t),e>i&&(e=i),Math.floor(e)},t={},i=!1,n=function(){var t=document.getElementById("imggalleryswp0");if(t)for(var i=t.firstChild.childNodes,n=0;n<i.length;n++){var o=i[n].firstChild;o.style.width=e(o.getAttribute("data-max-width"),o.getAttribute("data-max-height"))+"px"}};return{open:function(o,a,r){i||(i=!0,window.addEventListener("resize",n));var l=function(t){try{var i=JSON.parse(t)}catch(e){i={}}void 0!==i.status&&"1"===i.status&&clientPackages.get("-ivopetkov-image-gallery-lightbox-requirements").then((function(){var t=i.result,n=t.length,a='<div id="imggalleryswp0" class="swiper-container" style="width:100vw;height:100vh;">';a+='<div class="swiper-wrapper">';for(var l=0;l<n;l++){var d=t[l];a+='<div class="swiper-slide" style="padding:5px;box-sizing:border-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;align-items:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center;overflow:hidden;">',a+='<div data-max-width="'+d[0]+'" data-max-height="'+d[1]+'" style="width:'+e(d[0],d[1])+'px;font-size:0;line-height:0;"></div>',a+="</div>"}a+="</div>",a+='<div style="z-index:10010001;position:fixed;top:0;left:0;">',a+='<span data-image-gallery-button="next"></span>',a+='<span data-image-gallery-button="previous"></span>',a+='<span data-image-gallery-button="close"></span>',a+='<span data-image-gallery-button="zoomin"></span>',a+='<span data-image-gallery-button="zoomout"></span>',a+="</div>",a+="</div>",o.open(a,{spacing:"0px",showCloseButton:!1}).then((function(){for(var e=document.getElementById("imggalleryswp0"),i=e.firstChild,a=e.childNodes[1],l=0;l<n;l++){var d=t[l];html5DOMDocument.insert(d[2],[i.childNodes[l].firstChild])}var s=null,c=function(e){s=e},v=[],u=i.childNodes,g=function(e){return i.childNodes[e].firstChild},h=function(e){var t=g(e);return parseInt(t.getAttribute("data-max-width"))/parseInt(t.style.width.replace("px",""))},p=null,f=function(e){var t=g(e).querySelector("[data-responsively-lazy]");if(null!==t){if(null===t.getAttribute("data-responsively-lazy-preferred-option")){t.setAttribute("data-responsively-lazy-preferred-option","999999");try{responsivelyLazy.run()}catch(e){}}}},m=[],y=function(e){void 0===m[e]&&(m[e]=null),v[e].hasZoom()!==m[e]&&p()};for(l=0;l<u.length;l++){var w=u[l];v[l]=ivoPetkov.bearFrameworkAddons.imageGalleryImageZoom.addZoom(w.firstChild,w),v[l].addEventListener("start",function(e){f(e),setTimeout((function(){y(e)}),50)}.bind(null,l)),v[l].addEventListener("end",function(e){y(e)}.bind(null,l))}var b=new Swiper("#imggalleryswp0",{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});b.slideTo(r,0);var k=a.childNodes[0],x=a.childNodes[1],z=a.childNodes[2],N=a.childNodes[3],L=a.childNodes[4];p=function(){var e=s;n>1&&(k.style.display=e+1<n?"flex":"none",x.style.display=0===e?"none":"flex");var t=v[e],i=h(e)>1,o=t.hasZoom();N.style.display=i&&!o?"block":"none",L.style.display=i&&o?"block":"none"},k.addEventListener("click",b.slideNext),x.addEventListener("click",b.slidePrev),z.addEventListener("click",o.close),N.addEventListener("click",(function(){v[s].zoomIn(h(s)),p()})),L.addEventListener("click",(function(){v[s].zoomOut(),p()})),b.on("slideChangeStart",(function(e){null!==s&&v[s].zoomOut(),c(e.activeIndex),p()})),c(r),p()}))}))};void 0!==t[a]?l(t[a]):clientPackages.get("serverRequests").then((function(e){e.send("-ivopetkov-image-gallery-get-images",{serverData:a}).then((function(e){t[a]=e,l(e)}))}))}}}();
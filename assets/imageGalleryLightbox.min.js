/*
 * Image gallery addon for Bear Framework
 * https://github.com/ivopetkov/image-gallery-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.imageGalleryLightbox=ivoPetkov.bearFrameworkAddons.imageGalleryLightbox||function(){var l=function(a,b){var e=window.innerWidth-30,c=window.innerHeight-30;b>c&&(a*=c/b);a>e&&(a=e);return a},d={},m=!1,n=function(){var a=document.getElementById("imggalleryswp0");if(a){a=a.firstChild.childNodes;for(var b=0;b<a.length;b++){var e=a[b].firstChild;e.style.width=l(e.getAttribute("data-max-width"),e.getAttribute("data-max-height"))+"px"}}};return{open:function(a,b,e){m||(m=!0,
window.addEventListener("resize",n));var c=function(b){try{var g=JSON.parse(b)}catch(p){g={}}"undefined"!==typeof g.status&&"1"===g.status&&clientShortcuts.get("-ivopetkov-image-gallery-lightbox-requirements").then(function(){var b=g.result,c=b.length;var h='<div id="imggalleryswp0" class="swiper-container" style="width:100vw;height:100vh;"><div class="swiper-wrapper">';for(var d=0;d<c;d++){var k=b[d];h+='<div class="swiper-slide" style="padding:15px;box-sizing:border-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;align-items:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center;">';
h+='<div data-max-width="'+k[0]+'" data-max-height="'+k[1]+'" style="width:'+l(k[0],k[1])+'px;"></div>';h+="</div>"}a.open(h+'</div><div style="z-index:10010001;position:fixed;top:0;left:0;"><span style="right:0;display:none;overflow:hidden;width:42px;height:42px;position:fixed;top:calc((100% - 42px)/2);cursor:pointer;color:rgba(255,255,255,0.8);font-size:80px;line-height:80px;padding-left:9px;box-sizing:border-box;"><span style="display:block;width:80px;height:80px;position:absolute;text-shadow:#000 0 0 3px;margin-left:-36px;margin-top:-38px;">&#10563;</span></span><span style="left:0;display:none;overflow:hidden;width:42px;height:42px;position:fixed;top:calc((100% - 42px)/2);cursor:pointer;color:rgba(255,255,255,0.8);font-size:80px;line-height:80px;padding-left:9px;box-sizing:border-box;"><span style="display:block;width:80px;height:80px;position:absolute;text-shadow:#000 0 0 3px;margin-left:-7px;margin-top:-38px;">&#10562;</span></span></div></div>',
{spacing:"0px"}).then(function(){for(var a=document.getElementById("imggalleryswp0"),f=0;f<c;f++)html5DOMDocument.insert(b[f][2],[a.firstChild.childNodes[f].firstChild]);f=new Swiper("#imggalleryswp0",{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});f.slideTo(e,0);var d=a.childNodes[1].childNodes[0];d.addEventListener("click",f.slideNext);var g=a.childNodes[1].childNodes[1];g.addEventListener("click",f.slidePrev);var h=function(a){2>c||(d.style.display=a+1<c?"block":"none",
g.style.display=0===a?"none":"block")};f.on("slideChangeStart",function(a){h(a.activeIndex)});h(e)})})};"undefined"!==typeof d[b]?c(d[b]):clientShortcuts.get("serverRequests").then(function(a){a.send("-ivopetkov-image-gallery-get-images",{serverData:b}).then(function(a){d[b]=a;c(a)})})}}}();